<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
  xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
  xmlns:f="http://xmlns.jcp.org/jsf/core"
  xmlns:h="http://xmlns.jcp.org/jsf/html"
  xmlns:p="http://primefaces.org/ui">
  <ui:composition template="../common/template.xhtml">
    <ui:define name="content">
      <div class="padding-panel">
        <span style="font-size: 18pt; font-weight: bold;">List of Projects</span>
        <br/>
        <br/>
        <h:form>
          <p:commandButton action="#{projectManagedBean.goToFormPage}" ajax="false" value="Add Project"/>
          <br/>
          <br/>
          <p:dataTable emptyMessage="No projects found!" value="#{projectManagedBean.projects}" var="project" widgetVar="projectsTable">
            <p:column headerText="Name">
              <h:outputText value="#{project.projectName}"/>
            </p:column>
          
            <p:column headerText="Description">
              <h:outputText value="#{project.projectDescription}"/>
            </p:column>
          
            <p:column headerText="Name of Client">
              <h:outputText value="#{project.clientName}"/>
            </p:column>
          
            <p:column headerText="Project Manager">
              <h:outputText value="#{project.projectManager}"/>
            </p:column>
          
            <p:column headerText="Action">
              <p:commandButton action="#{projectManagedBean.viewOrUpdateRecord}" ajax="false" value="View">
                <f:param name="projectId" value="#{project.id}"/>
                <f:param name="mode" value="view"/>
              </p:commandButton>
              <p:commandButton action="#{projectManagedBean.viewOrUpdateRecord}" ajax="false" value="Update">
                <f:param name="projectId" value="#{project.id}"/>
                <f:param name="mode" value="update"/>
              </p:commandButton>
            </p:column>
          </p:dataTable>
        </h:form>
      </div>
    </ui:define>
  </ui:composition>
</html>